<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>hsts on Kmp - beyondkmp&#39;s new hugo blog</title>
    <link>https://beyondkmp.com/tags/hsts/</link>
    <description>Recent content in hsts on Kmp - beyondkmp&#39;s new hugo blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Fri, 22 Feb 2019 21:19:44 +0800</lastBuildDate>
    
	<atom:link href="https://beyondkmp.com/tags/hsts/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>nginx https常用配置</title>
      <link>https://beyondkmp.com/post/nginx_https_hsts/</link>
      <pubDate>Fri, 22 Feb 2019 21:19:44 +0800</pubDate>
      
      <guid>https://beyondkmp.com/post/nginx_https_hsts/</guid>
      <description>&lt;h2 id=&#34;nginx编译安装&#34;&gt;nginx编译安装&lt;/h2&gt;

&lt;h3 id=&#34;下载源码&#34;&gt;下载源码&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;下载官方nginx版本&lt;a href=&#34;http://nginx.org/download/nginx-1.14.2.tar.gz&#34;&gt;Stable version&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;下载openssl1.1.1版本，支持tls1.3,&lt;a href=&#34;https://www.openssl.org/source/openssl-1.1.1a.tar.gz&#34;&gt;openssl-1.1.1a.tar.gz&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;编译安装&#34;&gt;编译安装&lt;/h3&gt;

&lt;p&gt;在configure里面加上tls1.3, 开启httpv2模块&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;tar -xvf nginx-1.1.4.2.tar.gz
tar -xvf openssl-1.1.1a.tar.gz
&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; nginx-1.1.4.2
./configure  --prefix&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/usr/local/nginx &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--with-stream &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--with-stream_ssl_preread_module &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--with-http_v2_module &lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;
--with-http_ssl_module  &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--with-pcre  &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--with-openssl&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/tmp/openssl-1.1.1a &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;&lt;/span&gt;--with-openssl-opt&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;enable-tls1_3&amp;#39;&lt;/span&gt;
make -j &lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;
make install&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    
  </channel>
</rss>